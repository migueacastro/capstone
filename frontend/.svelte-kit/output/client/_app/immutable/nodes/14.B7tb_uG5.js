import{s as F,e as r,a as T,c as i,b as y,w as I,g as L,f as _,o as m,i as B,h as s,E as A,x as j,F as H,n as N,D as M,t as U,d as V}from"../chunks/scheduler.Cvxp15X3.js";import{S as J,i as K}from"../chunks/index.RxifS9Fo.js";import{g as z}from"../chunks/entry.C_b26GiN.js";import{e as G}from"../chunks/public.Cb3FOUtJ.js";import{g as Q}from"../chunks/stores.DkxrROnu.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.dsa4NXrV.js";function W(c){let t,n=c[1].email[0]+"",a;return{c(){t=r("p"),a=U(n),this.h()},l(e){t=i(e,"P",{class:!0});var u=y(t);a=V(u,n),u.forEach(_),this.h()},h(){m(t,"class","text-red-500")},m(e,u){B(e,t,u),s(t,a)},p:N,d(e){e&&_(t)}}}function X(c){var q;let t,n,a,e,u="Reset Password",C,p,l,h,g="Email",S,d,O,R,v,$='<button type="Request" class="btn btn-xl variant-filled w-full">Send Email</button>',D,k,f=((q=c[1])==null?void 0:q.email)&&W(c);return{c(){t=r("div"),n=r("div"),a=r("form"),e=r("header"),e.textContent=u,C=T(),p=r("section"),l=r("label"),h=r("span"),h.textContent=g,S=T(),d=r("input"),O=T(),f&&f.c(),R=T(),v=r("footer"),v.innerHTML=$,this.h()},l(o){t=i(o,"DIV",{class:!0});var b=y(t);n=i(b,"DIV",{class:!0});var P=y(n);a=i(P,"FORM",{});var E=y(a);e=i(E,"HEADER",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-10t0ncd"&&(e.textContent=u),C=L(E),p=i(E,"SECTION",{class:!0});var w=y(p);l=i(w,"LABEL",{class:!0});var x=y(l);h=i(x,"SPAN",{"data-svelte-h":!0}),I(h)!=="svelte-1bg9cgq"&&(h.textContent=g),S=L(x),d=i(x,"INPUT",{type:!0,class:!0}),O=L(x),f&&f.l(x),x.forEach(_),w.forEach(_),R=L(E),v=i(E,"FOOTER",{class:!0,"data-svelte-h":!0}),I(v)!=="svelte-fvd4ed"&&(v.innerHTML=$),E.forEach(_),P.forEach(_),b.forEach(_),this.h()},h(){m(e,"class","card-header text-center text-4xl font-bold"),m(d,"type","text"),m(d,"class","input"),m(l,"class","label my-3"),m(p,"class","p-4"),m(v,"class","card-footer"),m(n,"class","card m-4"),m(t,"class","container h-full mx-auto flex justify-center items-center")},m(o,b){B(o,t,b),s(t,n),s(n,a),s(a,e),s(a,C),s(a,p),s(p,l),s(l,h),s(l,S),s(l,d),A(d,c[0]),s(l,O),f&&f.m(l,null),s(a,R),s(a,v),D||(k=[j(d,"input",c[3]),j(a,"submit",H(c[2]))],D=!0)},p(o,[b]){var P;b&1&&d.value!==o[0]&&A(d,o[0]),(P=o[1])!=null&&P.email&&f.p(o,b)},i:N,o:N,d(o){o&&_(t),f&&f.d(),D=!1,M(k)}}}function Y(c,t,n){const a=Q();let e="",u={email:null};const C=async()=>{let h=`${G.PUBLIC_BACKEND_URL}/request-reset-email`;await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),credentials:"include"}).then(g=>g.json().then(S=>({status:g.status,body:S}))).then(g=>{z("/"),a.trigger(p)})};let p={message:"Email sent. Please check your inbox.",background:"variant-filled-success"};function l(){e=this.value,n(0,e)}return[e,u,C,l]}class nt extends J{constructor(t){super(),K(this,t,Y,X,F,{})}}export{nt as component};
